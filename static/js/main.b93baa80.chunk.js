(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{245:function(e,a,t){e.exports=t(473)},250:function(e,a,t){},473:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(11),c=t.n(l),o=(t(250),t(37)),m=(t(251),new(t(241).a)({uri:"https://imagegraphql.herokuapp.com/"}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}var u=t(16),s=t(33),d=t(72),p=(t(60),t(70)),g=t(482),b=t(14),f=t(38),E=t(57),h=t(58),y=t.n(h),v=t(79),w=t(485);function j(){var e=Object(E.a)(["\n    query ($name: String, $password: String) {\n      member_verify(name: $name, password: $password) {\n        name\n        password\n      }\n    }\n  "]);return j=function(){return e},e}var k=y()(j()),O=function(e){var a=e.set_member,t=e.name,n=e.password,l=e.set_bob,c=Object(v.b)(k,{variables:{name:t,password:n},fetchPolicy:"network-only"}),o=c.loading,m=c.data;return o?r.a.createElement("p",null,"One moument"):("guest"===m.member_verify[0].name&&w.a.error(r.a.createElement("h3",null,"The name or password are invalid")).then(function(){l(!1)}),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null," ",a(m.member_verify[0].name))))},S=function(e){var a=e.set,t=r.a.useState(""),n=Object(u.a)(t,2),l=n[0],c=n[1],o=r.a.useState(""),m=Object(u.a)(o,2),i=m[0],d=m[1],E=r.a.useState(!1),h=Object(u.a)(E,2),y=h[0],v=h[1];return r.a.createElement("div",{style:{width:"400px",margin:"0 auto",padding:40,backgroundColor:"#ddd",position:"relative",top:"100px"}},r.a.createElement("h5",null,"Sign in to your account ",r.a.createElement("br",null),r.a.createElement(p.a,{title:"create account"},r.a.createElement("span",{style:{fontSize:15}}," No account ? "),r.a.createElement(s.b,{to:"/account_create",style:{fontSize:15}}," Create account"))),r.a.createElement("hr",null),r.a.createElement("h6",{style:{margin:"10px auto"}},"Name *"),r.a.createElement(g.a,{required:!0,onChange:function(e){return c(e.target.value)},value:l,size:"large",prefix:r.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",style:{margin:"10px auto",display:"block"}}),r.a.createElement("h6",{style:{margin:"10px auto"}},"Password *"),r.a.createElement(g.a,{required:!0,onChange:function(e){return d(e.target.value)},value:i,size:"large",prefix:r.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",style:{margin:"10px auto",display:"block"}}),r.a.createElement("p",{style:{margin:"10px auto"}},"Forget password ? ",r.a.createElement(s.b,{to:"/"},"Reset password")),r.a.createElement("hr",null),r.a.createElement(f.a,{type:"primary",style:{width:"50%"},disabled:l.length<3||i.length<3,onClick:function(){v(!0)}},"Sign_in"),y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{name:l,password:i,set_member:a,set_bob:v})))},x=t(480),C=t(481),$=t(126),_=t(34),I=t.n(_),z="https://image1909.herokuapp.com/";function A(){var e=Object(E.a)(["\n    mutation($name: String,$phone:String,$age:Int,$gender: String,$email: String,$password: String){\n        add_member(name: $name,phone: $phone, age: $age, gender: $gender, email: $email, password: $password){\n            name\n            \n        }\n    }\n"]);return A=function(){return e},e}var P=y()(A()),F=function(e){var a=e.name,t=e.email,n=e.age,l=e.gender,c=e.password,o=e.phone,m=Object(v.a)(P,{variables:{name:a,phone:o,age:n,gender:l,email:t,password:c},onCompleted:function(){I.a.get("".concat(z,"created?name=").concat(a)).then(function(e){"one"===e.data?w.a.success("Account ".concat(a," created")):w.a.error("Name is invalid")})}}),i=Object(u.a)(m,2),s=i[0];i[1].data;return r.a.createElement(f.a,{type:"primary",disabled:a.length<3,onClick:function(){return s({variables:{name:a,phone:o,age:Number(n),gender:l,email:t,password:c}})},style:{display:"inline-block",marginLeft:"10%",width:"45%"}},"Create_Account")},N=function(){var e=Object(n.useState)(""),a=Object(u.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),o=Object(u.a)(c,2),m=o[0],i=o[1],d=Object(n.useState)(20),E=Object(u.a)(d,2),h=E[0],y=E[1],v=Object(n.useState)("men"),w=Object(u.a)(v,2),j=w[0],k=w[1],O=Object(n.useState)(),S=Object(u.a)(O,2),_=S[0],I=S[1],z=Object(n.useState)(),A=Object(u.a)(z,2),P=A[0],N=A[1];return r.a.createElement(x.a,{style:{textAlign:"center",margin:"0 auto",width:"400px",position:"relative",top:"5vw",border:"5px solid #ccc",padding:10,backgroundColor:"#ddd"},labelCol:{span:4},wrapperCol:{span:18}},r.a.createElement("h3",{style:{textAlign:"left",fontWeight:600}},"Create_Account"),r.a.createElement("hr",null),r.a.createElement(x.a.Item,{label:"Name"},r.a.createElement(g.a,{value:t,onChange:function(e){return l(e.target.value)},prefix:r.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})),r.a.createElement(x.a.Item,{label:"Phone"},r.a.createElement(g.a,{value:m,onChange:function(e){return i(e.target.value)},prefix:r.a.createElement(b.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Phone"})),r.a.createElement(x.a.Item,{label:"Age"},r.a.createElement(C.a,{onChange:function(e){y(e)},defaultValue:20,tooltipVisible:!0,value:h})),r.a.createElement(x.a.Item,{label:"Gender"},r.a.createElement(p.a,{title:"man"},r.a.createElement($.a,{onChange:function(){return k("men")},checked:"men"===j},r.a.createElement(b.a,{type:"man",style:{color:"rgba(0,0,0,.25)",fontSize:25}}))),r.a.createElement(p.a,{title:"women",overlayStyle:{color:"red"}},r.a.createElement($.a,{onChange:function(){return k("women")},checked:"women"===j},r.a.createElement(b.a,{type:"woman",style:{color:"rgba(0,0,0,.25)",fontSize:25}})))),r.a.createElement(x.a.Item,{label:"Email"},r.a.createElement(g.a,{value:_,onChange:function(e){return I(e.target.value)},placeholder:"@ Email"})),r.a.createElement(x.a.Item,{label:"Password"},r.a.createElement(g.a,{value:P,onChange:function(e){return N(e.target.value)},prefix:r.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Password"})),r.a.createElement("hr",null),r.a.createElement("p",{style:{width:"100%",margin:"10px auto"}},r.a.createElement(f.a,{style:{display:"inline-block",width:"45%"}},r.a.createElement(s.b,{to:"/"},"cancel")),r.a.createElement(F,{name:t,phone:m,password:P,age:h,email:_,gender:j})))},q=t(234);function R(){var e=Object(E.a)(["\n    mutation($name: String,$phone:String,$age:Int,$gender: String,$email: String,$password: String){\n        edit_member(name: $name,phone: $phone, age: $age, gender: $gender, email: $email, password: $password){\n            name\n            phone\n            age\n            gender\n            email\n            password\n        }\n    }\n"]);return R=function(){return e},e}var D=y()(R()),M=Object(q.graphql)(D)(function(e){var a=e.mutate,t=Object(n.useState)(""),l=Object(u.a)(t,2),c=l[0],o=l[1],m=Object(n.useState)(""),i=Object(u.a)(m,2),d=i[0],p=i[1],b=Object(n.useState)(),E=Object(u.a)(b,2),h=E[0],y=E[1],v=Object(n.useState)("male"),w=Object(u.a)(v,2),j=w[0],k=w[1],O=Object(n.useState)(""),S=Object(u.a)(O,2),C=S[0],_=S[1],I=Object(n.useState)(""),z=Object(u.a)(I,2),A=z[0],P=z[1];return r.a.createElement(x.a,{style:{textAlign:"center",font:"600 18px/20px 'Arial',sans-serif",margin:"100px auto",width:"70%",border:"1px solid #ddd",padding:20,backgroundColor:"#ccc"},labelCol:{span:7},wrapperCol:{span:12}},r.a.createElement("p",null,"Edit account ",c," "),r.a.createElement(x.a.Item,{label:"Name"},r.a.createElement(g.a,{value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(x.a.Item,{label:"Phone"},r.a.createElement(g.a,{value:d,onChange:function(e){return p(e.target.value)}})),r.a.createElement(x.a.Item,{label:"Age"},r.a.createElement(g.a,{value:h,onChange:function(e){return y(e.target.value)}})),r.a.createElement(x.a.Item,{label:"Gender"},r.a.createElement($.a,{onChange:function(){return k("men")},checked:"men"===j},"Male"),r.a.createElement($.a,{onChange:function(){return k("women")},checked:"women"===j},"Female")),r.a.createElement(x.a.Item,{label:"Email"},r.a.createElement(g.a,{value:C,onChange:function(e){return _(e.target.value)}})),r.a.createElement(x.a.Item,{label:"Password"},r.a.createElement(g.a,{value:A,onChange:function(e){return P(e.target.value)}})),r.a.createElement(f.a,{size:"large",style:{display:"inline-block"}},r.a.createElement(s.b,{to:"/"},"cancel")),r.a.createElement(f.a,{type:"primary",disabled:c.length<2,onClick:function(){a({variables:{name:c,phone:d,age:Number(h),gender:j,email:C,password:A}})},style:{display:"inline-block",marginLeft:10},size:"large"},"Edit_Account"))}),W=t(92),B=t(55),L=t(475),T=t(479),U=t(476),G="https://image1909.herokuapp.com/",H=function(e){var a=e.name,t=e.member,n=e.reeb,l=r.a.useState(""),c=Object(u.a)(l,2),o=c[0],m=c[1],i=r.a.useState(""),s=Object(u.a)(i,2),d=s[0],p=s[1];return r.a.createElement("div",{id:"img",style:{height:"15vw",backgroundSize:"100%",backgroundPosition:"center",backgroundColor:"rgba(255,255,0, 0.5)",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(o,")"),width:"15vw",margin:"1vw",border:"2px solid #ccc"}},!d&&r.a.createElement("label",{htmlFor:"upload_file"},r.a.createElement("input",{type:"file",id:"upload_file",style:{display:"none"},accept:".jpg,.jpeg",onChange:function(e){return function(e){var a=document.getElementById("upload_file").files[0],t=new FileReader;t.onload=function(e){console.log("Name:".concat(a.name,",Type file:").concat(a.type,",").concat(a.size)),a.size>2e6?w.a.error("Size  too large. Max size 500kb."):a.name.includes("(")?w.a.error("Name is bad."):(m(t.result),p("".concat(a.name)))},t.readAsDataURL(a)}()}}),r.a.createElement(b.a,{type:"upload",style:{fontSize:"4vw",margin:"5vw auto 10px",cursor:"pointer"}})),d&&r.a.createElement(f.a,{type:"primary",style:{margin:"3vw auto 10px"},onClick:function(){I()({params:{member:t,folder:a,file_name:d},method:"post",url:"".concat(G,"upload"),data:{file:o.replace("data:image/jpeg;base64,","")},headers:{"Content-type":"image/jpeg"}}).then(function(e){m(""),p(""),n("".concat(d))})}},"upload"))},J=function(e){var a=e.name,t=e.member,n=e.file,l=e.reeb;return r.a.createElement(f.a,{type:"danger",size:"small",icon:"delete",onClick:function(){I.a.get("".concat(z,"delete"),{params:{member:t,name:a,file:n}}).then(function(e){l(n)})}})},V=function(e){var a=e.name,t=e.member,l=window.innerHeight-10,c=r.a.useState(!0),o=Object(u.a)(c,2),m=o[0],i=o[1],d=r.a.useState(100),p=Object(u.a)(d,2),g=p[0],f=p[1],E=r.a.useState([""]),h=Object(u.a)(E,2),y=h[0],v=h[1],w=r.a.useState(""),j=Object(u.a)(w,2),k=j[0],O=j[1];return Object(n.useEffect)(function(){I.a.get("".concat(G,"list"),{params:{name:a,member:t}}).then(function(e){v(e.data)})},[k]),r.a.createElement("div",null,m?r.a.createElement(W.a,{justify:"center",type:"flex"},r.a.createElement(B.a,{lg:{span:4},style:{textAlign:"center",margin:"1vw",border:"2px solid #ccc",height:"15vw",width:"15vw"}},r.a.createElement(s.b,{to:"/main",name:t},r.a.createElement(b.a,{type:"arrow-left",style:{font:"400 4vw/15vw 'Arial', sans-serif",cursor:"pointer"}}))),y.map(function(e,n){return r.a.createElement(B.a,{lg:{span:4},key:n},r.a.createElement(L.a,{placement:"topRight",content:r.a.createElement(J,{name:a,member:t,file:e,reeb:O})},r.a.createElement(T.a,{hoverable:"true",onClick:function(){return i(!1)},style:{background:"url(".concat(G,"members/").concat(t,"/").concat(a,"/").concat(e,") no-repeat  center/auto 100%"),height:"15vw",margin:"1vw",cursor:"pointer"}})))}),r.a.createElement(B.a,{lg:{span:4},style:{textAlign:"center"}},r.a.createElement(H,{name:a,member:t,reeb:O}))):r.a.createElement(U.a,{autoplay:!0,dotPosition:"bottom"},y.map(function(e,n){return r.a.createElement("div",{style:{margin:0},key:n},r.a.createElement("div",{style:{background:"url(".concat(G,"members/").concat(t,"/").concat(a,"/").concat(e,") no-repeat  center/auto ").concat(g,"%"),height:l,margin:0},onClick:function(){return i(!0)},onWheel:function(){return f(g<160?g+10:100)},title:"click:back,leave:slide"}))})))},K=t(483),Q=function(e){var a=e.modal,t=e.set,n=e.member,l=e.mode,c=r.a.useState(""),o=Object(u.a)(c,2),m=o[0],i=o[1];return r.a.createElement(K.a,{visible:a,title:"".concat(l,"  FOLDER"),onCancel:function(){return t(!1)},onOk:function(e){I.a.get("".concat(G,"createdir"),{params:{member:n,name:m}}),t(!1)}},"Name of catalog:",r.a.createElement(g.a,{placeholder:"input folder name",allowClear:!0,value:m,type:"text",style:{width:200},onChange:function(e){i(e.target.value)}}))},X=t(477),Y=function(e){var a=e.name,t=e.member,n=e.list,l=e.reb,c=r.a.useState(""),o=Object(u.a)(c,2),m=o[0],i=o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{type:"primary",style:{width:"100%",margin:"10px 0"},disabled:n.indexOf(m)>0||m.length<1,onClick:function(){I.a.get("".concat(z,"rename_folder"),{params:{member:t,name:a,new_name:m}}).then(function(e){l(e.data)})}},"rename"),r.a.createElement(g.a,{type:"text",placeholder:"New name",value:m,onChange:function(e){i(e.target.value)}}))},Z=function(e){var a=e.name,t=e.member,n=e.list,l=e.rebootin;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{name:a,member:t,list:n,reb:l}),r.a.createElement(X.a,{placement:"rightTop",title:"Delete folder and all files",onClick:function(){I.a.get("".concat(G,"deletedir"),{params:{member:t,name:a}})}},r.a.createElement(f.a,{type:"primary",style:{margin:"10px 0",width:"100%",display:"block"}},"Delete")))};function ee(){var e=Object(E.a)(["\n    query ($name: String) {\n      resive_list_dir(name: $name) {\n        list\n      }\n    }\n  "]);return ee=function(){return e},e}y()(ee());var ae=function(e){var a=e.name,t=e.set,l=r.a.useState("add"),c=Object(u.a)(l,2),o=c[0],m=c[1],i=r.a.useState(""),d=Object(u.a)(i,2),g=d[0],f=d[1],E=r.a.useState(!1),h=Object(u.a)(E,2),y=h[0],v=h[1],w=window.innerHeight,j=r.a.useState([""]),k=Object(u.a)(j,2),O=k[0],S=k[1],x=r.a.useState("one"),C=Object(u.a)(x,2),$=C[0],_=C[1];Object(n.useEffect)(function(){I.a.get("".concat(G,"member?name=").concat(a)).then(function(e){console.log("This is One effect"),S(e.data)})},[,$,y]);return r.a.createElement("div",{style:{background:"#fff",height:w,padding:"5vw 3vw"}},r.a.createElement(W.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(B.a,{lg:{span:6,offset:1}},r.a.createElement(p.a,{title:"close account"},r.a.createElement(b.a,{type:"folder-open",style:{fontSize:"7vw",color:"#ccc"},onClick:function(){return t("guest")}}))),O.map(function(e){return r.a.createElement(B.a,{lg:{span:6,offset:1},key:e,onMouseEnter:function(){return t=e,void I.a.get("".concat(G,"stat"),{params:{member:a,folder:t}}).then(function(e){f(e.data)});var t}},r.a.createElement(L.a,{title:"Folder ".concat(e,": ").concat(g," files"),content:r.a.createElement(Z,{name:e,member:a,list:O,rebootin:_}),placement:"left"},r.a.createElement(s.b,{to:"/inside/".concat(a,"/").concat(e),style:{fontSize:"2vw",fontWeight:400}},r.a.createElement(b.a,{type:"folder",style:{fontSize:"7vw",color:"#ccc"}}),e)))}),r.a.createElement(B.a,{lg:{span:6,offset:1}},r.a.createElement(p.a,{title:"add folder"},r.a.createElement(b.a,{type:"folder-add",style:{fontSize:100,color:"#ccc"},onClick:function(){v(!0),m("add")}})))),r.a.createElement(Q,{modal:y,set:v,member:a,mode:o}))},te=t(484),ne=t(478);function re(){var e=Object(E.a)(["\n  query{\n    all_member{\n      name\n      age\n      email\n      gender\n      password\n      phone\n    }\n  }\n"]);return re=function(){return e},e}var le=y()(re()),ce=[{key:"photo",title:"photo",dataIndex:"name",render:function(e){return r.a.createElement("div",{style:{background:"url(".concat(G,"image/").concat(e,".jpg) center/100% no-repeat"),width:80,height:80,margin:0}})}},{key:"name",title:"Name",dataIndex:"name"},{key:"age",title:"Age",dataIndex:"age"},{key:"phone",title:"Phone",dataIndex:"phone"},{key:"gender",title:"gender",dataIndex:"gender"},{key:"email",title:"email",dataIndex:"email"},{key:"action",title:"action",dataIndex:"",align:"center",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{type:"primary"},"edit"),r.a.createElement(f.a,{type:"danger"},"Delete"))},width:"200px"}],oe=function(){var e=Object(v.b)(le,{fetchPolicy:"network-only"}),a=e.loading,t=e.data,n=e.err;return a?r.a.createElement("h1",{style:{position:"absolute",top:"25%",left:"45%"}},r.a.createElement(b.a,{type:"loading",spin:!0})):n?r.a.createElement("p",null,"error"):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{title:"to main",placement:"right"},r.a.createElement(s.b,{to:"/"},r.a.createElement(f.a,{style:{margin:20},type:"primary"},r.a.createElement(b.a,{type:"home"})))),r.a.createElement(te.a,{title:"MEMBERS : ".concat(t.all_member.length),style:{border:"1px solid #ccc",width:"90%",margin:"10px auto"}},r.a.createElement(ne.a,{dataSource:t.all_member,columns:ce,style:{padding:0}})))};c.a.render(r.a.createElement(o.a,{client:m},r.a.createElement(function(){var e=r.a.useState(""),a=Object(u.a)(e,2),t=a[0],n=a[1];return r.a.createElement(s.a,null,"admin"===t&&r.a.createElement(p.a,{title:"seen members",placement:"right"},r.a.createElement(s.b,{to:"/members"},r.a.createElement(f.a,{style:{margin:20},type:"primary"},r.a.createElement(b.a,{type:"team"})))),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:function(){return"guest"===t||""===t?r.a.createElement(S,{set:n,in_member:t}):r.a.createElement(d.a,{to:"/main",name:t,set:n})}}),r.a.createElement(d.b,{path:"/inside/:member/:name",component:function(e){return r.a.createElement(V,{member:e.match.params.member,name:e.match.params.name})}}),r.a.createElement(d.b,{path:"/main",component:function(){return"guest"===t?r.a.createElement(d.a,{to:"/",set:n,in_member:t}):r.a.createElement(ae,{name:t,set:n})}}),r.a.createElement(d.b,{path:"/account_create",component:N}),r.a.createElement(d.b,{path:"/account_edit",component:M}),r.a.createElement(d.b,{path:"/members",component:function(){return r.a.createElement(oe,null)}})))},null)),document.getElementById("root")),i(),i()}},[[245,1,2]]]);
//# sourceMappingURL=main.b93baa80.chunk.js.map