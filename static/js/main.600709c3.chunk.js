(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,t,a){e.exports=a(388)},206:function(e,t,a){},388:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),c=a.n(l),m=(a(206),a(27)),o=(a(207),new(a(196).a)({uri:"http://localhost:5000/"}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function i(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}var u=a(14),s=a(61),d=(a(51),a(74)),p=a(396),b=a(15),g=a(40),f=a(32),E=a(19),h=a(20),y=a.n(h),v=a(23),w=a(399);function j(){var e=Object(E.a)(["\n    query ($name: String, $password: String) {\n      member_verify(name: $name, password: $password) {\n        name\n        password\n      }\n    }\n  "]);return j=function(){return e},e}var S=y()(j()),O=function(e){var t=e.set_member,a=e.name,n=e.password,l=e.set_bob,c=Object(v.b)(S,{variables:{name:a,password:n},fetchPolicy:"network-only"}),m=c.loading,o=c.data;return m?r.a.createElement("p",null,"One moument"):("guest"===o.member_verify[0].name&&w.a.error(r.a.createElement("h3",null,"The name or password are invalid")).then(function(){l(!1)}),r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null," ",t(o.member_verify[0].name))))},$=function(e){var t=e.set,a=r.a.useState(""),n=Object(u.a)(a,2),l=n[0],c=n[1],m=r.a.useState(""),o=Object(u.a)(m,2),i=o[0],s=o[1],E=r.a.useState(!1),h=Object(u.a)(E,2),y=h[0],v=h[1];return r.a.createElement("div",{style:{margin:"0 auto",width:"30%",padding:40,backgroundColor:"#ddd",position:"absolute",top:"10%",left:"35%"}},r.a.createElement("h5",null,"Sign in to your account ",r.a.createElement("br",null),r.a.createElement(d.a,{title:"create account"},r.a.createElement("span",{style:{fontSize:15}}," No account ? "),r.a.createElement(f.b,{to:"/account_create",style:{fontSize:15}}," Create account"))),r.a.createElement("hr",null),r.a.createElement("h6",{style:{margin:"10px auto"}},"Name *"),r.a.createElement(p.a,{onChange:function(e){return c(e.target.value)},value:l,size:"large",prefix:r.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",style:{margin:"10px auto",display:"block"},required:!0}),r.a.createElement("h6",{style:{margin:"10px auto"}},"Password *"),r.a.createElement(p.a,{onChange:function(e){return s(e.target.value)},value:i,size:"large",prefix:r.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",style:{margin:"10px auto",display:"block"},required:!0}),r.a.createElement("p",{style:{margin:"10px auto"}},"Forget password ? ",r.a.createElement(f.b,{to:"/"},"Reset password")),r.a.createElement("hr",null),r.a.createElement(g.a,{type:"primary",style:{width:"50%"},onClick:function(){v(!0)}},"Sign_in"),y&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{name:l,password:i,set_member:t,set_bob:v})))},k=a(394),_=a(395),x=a(398);function C(){var e=Object(E.a)(["\n    mutation($name: String,$phone:String,$age:Int,$gender: String,$email: String,$password: String){\n        add_member(name: $name,phone: $phone, age: $age, gender: $gender, email: $email, password: $password){\n            name\n            \n        }\n    }\n"]);return C=function(){return e},e}var I=y()(C()),z=function(e){var t=e.name,a=e.email,n=e.age,l=e.gender,c=e.password,m=e.phone,o=Object(v.a)(I,{variables:{name:t,phone:m,age:n,gender:l,email:a,password:c}}),i=Object(u.a)(o,2),s=i[0],d=i[1].data;return d?w.a.success(d.add_member[0].name):r.a.createElement(g.a,{type:"primary",disabled:t.length<3,onClick:function(){s({variables:{name:t,phone:m,age:Number(n),gender:l,email:a,password:c}})},style:{display:"inline-block",marginLeft:"10%",width:"40%"}},"Create_Account")},A=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),m=Object(u.a)(c,2),o=m[0],i=m[1],s=Object(n.useState)(20),E=Object(u.a)(s,2),h=E[0],y=E[1],v=Object(n.useState)("men"),w=Object(u.a)(v,2),j=w[0],S=w[1],O=Object(n.useState)("".concat(a,"@tut.by")),$=Object(u.a)(O,2),C=$[0],I=$[1],A=Object(n.useState)(a),P=Object(u.a)(A,2),F=P[0],q=P[1];return r.a.createElement(k.a,{style:{textAlign:"center",margin:"0 auto",width:"40%",position:"absolute",top:"10%",left:"30%",border:"5px solid #ccc",padding:20,backgroundColor:"#ddd"},labelCol:{span:7},wrapperCol:{span:12}},r.a.createElement("h3",{style:{textAlign:"left",fontWeight:600}},"Create_Account"),r.a.createElement("hr",null),r.a.createElement(k.a.Item,{label:"Name"},r.a.createElement(p.a,{value:a,onChange:function(e){return l(e.target.value)},prefix:r.a.createElement(b.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})),r.a.createElement(k.a.Item,{label:"Phone"},r.a.createElement(p.a,{value:o,onChange:function(e){return i(e.target.value)},prefix:r.a.createElement(b.a,{type:"phone",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Phone"})),r.a.createElement(k.a.Item,{label:"Age"},r.a.createElement(_.a,{onChange:function(e){y(e)},defaultValue:20,tooltipVisible:!0,value:h})),r.a.createElement(k.a.Item,{label:"Gender"},r.a.createElement(d.a,{title:"man"},r.a.createElement(x.a,{onChange:function(){return S("men")},checked:"men"===j},r.a.createElement(b.a,{type:"man",style:{color:"rgba(0,0,0,.25)",fontSize:25}}))),r.a.createElement(d.a,{title:"women",overlayStyle:{color:"red"}},r.a.createElement(x.a,{onChange:function(){return S("women")},checked:"women"===j},r.a.createElement(b.a,{type:"woman",style:{color:"rgba(0,0,0,.25)",fontSize:25}})))),r.a.createElement(k.a.Item,{label:"Email"},r.a.createElement(p.a,{value:"".concat(a,"@tut.by"),onChange:function(e){return I(e.target.value)},placeholder:"@ Email"})),r.a.createElement(k.a.Item,{label:"Password"},r.a.createElement(p.a,{value:F,onChange:function(e){return q(e.target.value)},prefix:r.a.createElement(b.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Password"})),r.a.createElement("hr",null),r.a.createElement("p",{style:{width:"70%",margin:"10px auto"}},r.a.createElement(g.a,{style:{display:"inline-block",width:"40%"}},r.a.createElement(f.b,{to:"/"},"cancel")),r.a.createElement(z,{name:a,phone:o,password:F,age:h,email:C,gender:j})))},P=a(192);function F(){var e=Object(E.a)(["\n    mutation($name: String,$phone:String,$age:Int,$gender: String,$email: String,$password: String){\n        edit_member(name: $name,phone: $phone, age: $age, gender: $gender, email: $email, password: $password){\n            name\n            phone\n            age\n            gender\n            email\n            password\n        }\n    }\n"]);return F=function(){return e},e}var q=y()(F()),L=Object(P.graphql)(q)(function(e){var t=e.mutate,a=Object(n.useState)(""),l=Object(u.a)(a,2),c=l[0],m=l[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),s=i[0],d=i[1],b=Object(n.useState)(),E=Object(u.a)(b,2),h=E[0],y=E[1],v=Object(n.useState)("male"),w=Object(u.a)(v,2),j=w[0],S=w[1],O=Object(n.useState)(""),$=Object(u.a)(O,2),_=$[0],C=$[1],I=Object(n.useState)(""),z=Object(u.a)(I,2),A=z[0],P=z[1];return r.a.createElement(k.a,{style:{textAlign:"center",font:"600 18px/20px 'Arial',sans-serif",margin:"100px auto",width:"70%",border:"1px solid #ddd",padding:20,backgroundColor:"#ccc"},labelCol:{span:7},wrapperCol:{span:12}},r.a.createElement("p",null,"Edit account ",c," "),r.a.createElement(k.a.Item,{label:"Name"},r.a.createElement(p.a,{value:c,onChange:function(e){return m(e.target.value)}})),r.a.createElement(k.a.Item,{label:"Phone"},r.a.createElement(p.a,{value:s,onChange:function(e){return d(e.target.value)}})),r.a.createElement(k.a.Item,{label:"Age"},r.a.createElement(p.a,{value:h,onChange:function(e){return y(e.target.value)}})),r.a.createElement(k.a.Item,{label:"Gender"},r.a.createElement(x.a,{onChange:function(){return S("men")},checked:"men"===j},"Male"),r.a.createElement(x.a,{onChange:function(){return S("women")},checked:"women"===j},"Female")),r.a.createElement(k.a.Item,{label:"Email"},r.a.createElement(p.a,{value:_,onChange:function(e){return C(e.target.value)}})),r.a.createElement(k.a.Item,{label:"Password"},r.a.createElement(p.a,{value:A,onChange:function(e){return P(e.target.value)}})),r.a.createElement(g.a,{size:"large",style:{display:"inline-block"}},r.a.createElement(f.b,{to:"/"},"cancel")),r.a.createElement(g.a,{type:"primary",disabled:c.length<2,onClick:function(){t({variables:{name:c,phone:s,age:Number(h),gender:j,email:_,password:A}})},style:{display:"inline-block",marginLeft:10},size:"large"},"Edit_Account"))}),N=function(){return r.a.createElement("div",{style:{background:'#ccc url("http://localhost:3000/main_image.jpg") no-repeat center/100% ',height:"670px"}})},R=a(76),B=a(49),W=a(390),D=a(393),U=a(391);function Q(){var e=Object(E.a)(["\n    mutation ($file: Upload!,$name: String, $member: String, $file_name: String) {\n      uPload(file: $file,name: $name, member: $member, file_name: $file_name) {\n        filename\n       \n      }\n    }\n"]);return Q=function(){return e},e}var T=y()(Q()),G=function(e){var t=e.name,a=e.member,n=r.a.useState(""),l=Object(u.a)(n,2),c=l[0],m=l[1],o=r.a.useState(""),i=Object(u.a)(o,2),s=i[0],d=i[1];var p=Object(v.a)(T,{variables:{file:c,name:t,member:a,file_name:s},refetchQueries:function(){return[{query:K,variables:{name:t,member:a}}]},onCompleted:function(){return m(""),document.getElementById("img").style.backgroundImage=null,d("")}}),f=Object(u.a)(p,4),E=f[0],h=(f[1].data,f[2]),y=f[3];return h?r.a.createElement("p",null,"Loading"):y?r.a.createElement("p",null,"error.message"):r.a.createElement("div",{id:"img",style:{height:200,backgroundSize:"100%",backgroundPosition:"center",backgroundColor:"rgba(255,255,0, 0.5)",backgroundRepeat:"no-repeat",width:200,margin:10,border:"2px solid #ccc"}},!s&&r.a.createElement("label",{htmlFor:"upload_file"},r.a.createElement("input",{type:"file",id:"upload_file",style:{display:"none"},accept:".jpg,.jpeg",onChange:function(e){return function(e){var t=document.getElementById("img"),a=document.getElementById("upload_file").files[0],n=new FileReader;n.onload=function(e){console.log("Name:".concat(a.name,",Type file:").concat(a.type,",").concat(a.size)),m(n.result),d("".concat(a.name)),t.style.backgroundImage="url(".concat(n.result,")")},n.readAsDataURL(a)}()}}),r.a.createElement(b.a,{type:"upload",style:{fontSize:40,margin:"80px auto 10px",cursor:"pointer"}})),s&&r.a.createElement(g.a,{type:"primary",style:{margin:"80px auto 10px"},onClick:function(){return E()}},"upload"))};function H(){var e=Object(E.a)(["\n    mutation ($name: String, $member: String,$file: String) {\n      deleteFile(file: $file,name: $name, member: $member) {\n        name\n       \n      }\n    }\n"]);return H=function(){return e},e}var J=y()(H()),V=function(e){var t=e.name,a=e.member,n=e.file,l=Object(v.a)(J,{variables:{file:n,name:t,member:a},refetchQueries:function(){return[{query:K,variables:{name:t,member:a}}]}}),c=Object(u.a)(l,4),m=c[0],o=(c[1].data,c[2]),i=c[3];return o?r.a.createElement("p",null,"Loading"):i?r.a.createElement("p",null,"error.message"):r.a.createElement(g.a,{type:"danger",size:"small",icon:"delete",onClick:function(){return m()}})};function M(){var e=Object(E.a)(["\n    query ($name: String, $member: String) {\n      resive_list(name: $name, member: $member) {\n        list\n      }\n    }\n"]);return M=function(){return e},e}var K=y()(M()),X=function(e){var t=e.name,a=e.member,n=window.innerHeight-10,l=r.a.useState(!0),c=Object(u.a)(l,2),m=c[0],o=c[1],i=r.a.useState(100),s=Object(u.a)(i,2),d=s[0],p=s[1],g=Object(v.b)(K,{fetchPolicy:"network-only",variables:{name:t,member:a}}),E=g.loading,h=g.data;return E?r.a.createElement("p",{style:{textAlign:"center"}},"Loading"):r.a.createElement("div",null,m?r.a.createElement(R.a,{justify:"center",type:"flex"},r.a.createElement(B.a,{lg:{span:4},style:{textAlign:"center",margin:10,border:"2px solid #ccc",height:200,width:200}},r.a.createElement(f.b,{to:"/main",name:a},r.a.createElement(b.a,{type:"arrow-left",style:{font:"400 40px/200px 'Arial', sans-serif",cursor:"pointer"}}))),h.resive_list[0].list.split(",",""===h.resive_list[0].list?0:1e3).map(function(e,n){return r.a.createElement(B.a,{lg:{span:4},key:n},r.a.createElement(W.a,{placement:"topRight",content:r.a.createElement(V,{name:t,member:a,file:e})},r.a.createElement(D.a,{hoverable:"true",onClick:function(){return o(!1)},style:{background:"url(http://localhost:3000/members/".concat(a,"/").concat(t,"/").concat(e,") no-repeat  center/auto 100%"),height:200,margin:10,cursor:"pointer"}})))}),r.a.createElement(B.a,{lg:{span:4},style:{textAlign:"center"}},r.a.createElement(G,{name:t,member:a}))):r.a.createElement(U.a,{autoplay:!0,dotPosition:"bottom"},h.resive_list[0].list.split(",").map(function(e,l){return r.a.createElement("div",{style:{margin:0},key:l},r.a.createElement("div",{style:{background:" url(http://localhost:3000/members/".concat(a,"/").concat(t,"/").concat(e,") no-repeat  center/auto ").concat(d,"%"),height:n,margin:0},onClick:function(){return o(!0)},onWheel:function(){return p(d<160?d+10:100)},title:"click:back,leave:slide"}))})))},Y=a(397);function Z(){var e=Object(E.a)(["\n    mutation ($name: String, $member: String, $mode: String) {\n      create_catalog(name: $name,  member: $member, mode: $mode) {\n        name        \n      }\n    }\n  "]);return Z=function(){return e},e}var ee=y()(Z()),te=function(e){var t=e.modal,a=e.set,n=e.member,l=e.mode,c=r.a.useState(""),m=Object(u.a)(c,2),o=m[0],i=m[1],s=Object(v.a)(ee),d=Object(u.a)(s,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{visible:t,title:"".concat(l,"  FOLDER"),onCancel:function(){return a(!1)},onOk:function(e){d({variables:{name:o,member:n,mode:l}}),a(!1)}},"Name of catalog:",r.a.createElement(p.a,{placeholder:"input folder name",allowClear:!0,value:o,type:"text",style:{width:200},onChange:function(e){i(e.target.value)}})))},ae=a(392);function ne(){var e=Object(E.a)(["\n    mutation ($name: String!, $member: String!, $new_name: String! ) {\n      renameFolder(name: $name, member: $member, new_name: $new_name) {\n        new_name\n      }\n    }\n"]);return ne=function(){return e},e}var re=y()(ne()),le=function(e){var t=e.name,a=e.member,n=e.list,l=r.a.useState(""),c=Object(u.a)(l,2),m=c[0],o=c[1],i=Object(v.a)(re,{refetchQueries:function(){return[{query:ue,variables:{name:a}}]}}),s=Object(u.a)(i,3),d=s[0];s[1].data;return s[2]?r.a.createElement("p",null,"Loading"):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{type:"primary",style:{width:"100%",margin:"10px 0"},disabled:n.indexOf(m)>0||m.length<1,onClick:function(){return d({variables:{name:t,member:a,new_name:m}})}},"rename"),r.a.createElement(p.a,{type:"text",placeholder:"New name",value:m,onChange:function(e){o(e.target.value)}}))};function ce(){var e=Object(E.a)(["\n    query ($name: String, $member: String ) {\n      resive_stat_dir(name: $name, member: $member) {\n        list\n      }\n    }\n  "]);return ce=function(){return e},e}var me=y()(ce()),oe=function(e){var t=e.name,a=e.member,n=e.list,l=Object(v.b)(me,{fetchPolicy:"network-only",variables:{name:t,member:a}}),c=l.loading,m=l.data,o=l.error;if(c)return r.a.createElement("p",null,"Loading");if(o)return r.a.createElement("p",null,o.message);var i=m.resive_stat_dir[0].list||"";return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{font:'600 16px/16px "Arial", sans-serif',width:100}},"Inside:",i," files"),r.a.createElement(le,{name:t,member:a,list:n}),r.a.createElement(ae.a,{placement:"rightTop",title:"Delete folder and all files"},r.a.createElement(g.a,{type:"primary",style:{margin:"10px 0",width:"100%",display:"block"}},"Delete")))};function ie(){var e=Object(E.a)(["\n    query ($name: String) {\n      resive_list_dir(name: $name) {\n        list\n      }\n    }\n  "]);return ie=function(){return e},e}var ue=y()(ie()),se=function(e){var t=e.name,a=e.set,l=r.a.useState(!1),c=Object(u.a)(l,2),m=c[0],o=c[1],i=r.a.useState("add"),s=Object(u.a)(i,2),p=s[0],g=s[1];Object(n.useEffect)(function(){S()},[m]);var E=window.innerHeight,h=Object(v.b)(ue,{fetchPolicy:"network-only",variables:{name:t}}),y=h.loading,w=h.data,j=h.error,S=h.refetch;if(y)return r.a.createElement("p",null,"Loading");if(j)return r.a.createElement("p",null,j.message);var O=w.resive_list_dir[0].list||"";return r.a.createElement("div",{style:{background:"#fff",height:E,padding:"20px 100px"}},r.a.createElement(d.a,{title:"delete",placement:"top"},r.a.createElement(b.a,{type:"delete",style:{fontSize:30,color:"#000"},onClick:function(){o(!0),g("del")}})),r.a.createElement(R.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(B.a,{lg:{span:6,offset:1}},r.a.createElement(d.a,{title:"close account"},r.a.createElement(b.a,{type:"folder-open",style:{fontSize:100,color:"#ccc"},onClick:function(){return a("guest")}}))),(O?O.split(","):[]).map(function(e){return r.a.createElement(B.a,{lg:{span:6,offset:1},key:e},r.a.createElement(W.a,{title:"Folder ".concat(e),content:r.a.createElement(oe,{name:e,member:t,list:O}),placement:"left"},r.a.createElement(f.b,{to:"/inside/".concat(t,"/").concat(e),style:{fontSize:30,fontWeight:400}},r.a.createElement(b.a,{type:"folder",style:{fontSize:100,color:"#ccc"}}),e)))}),r.a.createElement(B.a,{lg:{span:6,offset:1}},r.a.createElement(d.a,{title:"add folder"},r.a.createElement(b.a,{type:"folder-add",style:{fontSize:100,color:"#ccc"},onClick:function(){o(!0),g("add")}})))),r.a.createElement(te,{modal:m,set:o,member:t,mode:p}))};c.a.render(r.a.createElement(m.a,{client:o},r.a.createElement(function(){var e=r.a.useState("guest"),t=Object(u.a)(e,2),a=t[0],n=t[1];return r.a.createElement(f.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:function(){return"guest"===a?r.a.createElement($,{set:n,in_member:a}):r.a.createElement(s.a,{to:"/main",name:a,set:n})}}),r.a.createElement(s.b,{path:"/ff",component:N}),r.a.createElement(s.b,{path:"/inside/:member/:name",component:function(e){return r.a.createElement(X,{member:e.match.params.member,name:e.match.params.name})}}),r.a.createElement(s.b,{path:"/main",component:function(){return"guest"===a?r.a.createElement(s.a,{to:"/",set:n,in_member:a}):r.a.createElement(se,{name:a,set:n})}}),r.a.createElement(s.b,{path:"/account_create",component:A}),r.a.createElement(s.b,{path:"/account_edit",component:L})))},null)),document.getElementById("root")),i(),i()}},[[201,1,2]]]);
//# sourceMappingURL=main.600709c3.chunk.js.map